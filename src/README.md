# How-to include the PEG parser

this repository contains a `markdown_parser.c` file that has been generated by `greg` by reading the provided `markdown_parser.leg` file.

if you need to generate it again, you should:

- compile greg
- run `greg -o markdown_parer.c markdown_parser.leg`
- create the parser's public infterace `markdown_parser.h`. this is a C header file that will be included in the C++ class that launches the parser (`markdownreader.h`)
- in `markdownreader.h`include `markdown_parser.h` as a C library
- in `markdown_parser.h` define the following public functions:
  - Parse Markdown text, return elements  
        void pmh_markdown_to_elements(char *text, int extensions,
                                      pmh_element **out_result[]);
  - Sort elements in list by start offset.  
        void pmh_sort_elements_by_pos(pmh_element *element_lists[]);
  - Free `pmh_element` array  
        void pmh_free_elements(pmh_element **elems);
  - Get element type name  
        char *pmh_element_name_from_type(pmh_element_type type);
  - Get element type from a name
        pmh_element_type pmh_element_type_from_name(char *name);
  (For now I'm keeping the `pmh_` prefix from the `peg-markdown-highlight` project.)


